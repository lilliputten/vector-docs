> $Date: 2018-08-06 15:55:20 +0300 (Пн, 06 авг 2018) $
> $Id: interface-box-sections.md 10469 2018-08-06 12:55:20Z miheev $

Секции `box` -- основной структурный элемент построения интерфейса
------------------------------------------------------------------

Геометрия экранных элементов строится из блоков `box` ("Секций"), которые могут организовываться в иерархические структуры ("матрёшки").

Основной параметр секций -- ориентация вложенных секций. Может быть вертикальной (по умолчанию, модификатор 'vlayout', может быть опущен) или горизонтальной (модификатор 'hlayout'). См. ниже. Если секция находится внутри родительской секции с горизонтальной ориентацией, ей назначается (автоматически) модификатор `h`.

Все модификаторы:

`root` -- Корневая секция (верхний уровень). Отслеживаются события изменения
размеров окна и соответственно обновляются размеры всех дочерних элементов.

`hlayout` -- Горизонтальное расположение вложенных секций (см. авто-режим `h`).

`size` -- Метод изменения размера секции:
- не указано или `'fixed'`: фиксированный размер, может быть указан параметр
  `size`, если не указан, размер считается автоматически, по занимаемому
  контентом пространству;
- `'ratio'`, `'percents'`: Размер определяется в соответствии со значением
  параметра `ratio` или `percents` соотв. (см.);
- `'container'`: Размер определяется по размеру содержимого (контейнера);
- `'byChilds'`: Размер определяется по суммарному размеру вложенных секций.
- `'byContent'`: Размер определяется по размеру контейнера.
- `true`, `'auto'`, `'free'`: Размер секции высчитывается автоматически.

`maximized|single` -- Секция занимает всё пространство. Остальные секции будут уже не
видны. Для расположения нескольких секций одновременно необходимо использовать
режимы `ratio` или `percents`.

`noAutoUpdates` -- Не перерассчитывать размеры при инициализации и по событиям (для `root`?).

`singleChild` -- Содержит единственный полноразмерный элемент. Можно рассчитывать размер вложенных элементов через родителя. (Устанавливается автоматически при получении списка вложенных секций, `getChildBoxes`.)

`scrollable` -- Секция с прокруткой. Вложенные секции не режутся по размеру контейнера (поведение, как при `flow:auto`).

`flow` -- Режим расположения вложенных секций. Если `auto`, то секции не поджимаются по размеру контейнера (как для `scrollable`).

Автоматические модификаторы (устанавливаются кодом блока)
---------------------------------------------------------

`h` -- Секция горизонтальная (устанавливается автоматически -- при
инициализации в клиентском коде или в шаблоне bemhtml).

`changing` -- Происходит изменение стилей и состояния секции (метод
`makeChange`).

`hideAnimation`, `showAnimation` -- Элемент прячется или показывется (задержка
на анимацию).

После принудительного (ручного) изменения (`drag`) размера значение `size`
устанавливается в `fixed`. После этого при автоматических подстройках геометрии
эта секция уже не изменяется.

Параметры
---------

`size` -- Фиксированный размер секции (px).

`ratio` -- Относительный размер секции (числовое значение от 0 до 1).

`percents` -- Относительный размер секции в процентах.

События
-------

`hidden` -- При изменении видимости секции (в том числе, если изменяется видимость у родительской секции). Параметры:
- {Boolean} `isHidden`: Показана или спрятана секция (true = спрятана).
- {Boolean} [`isActor`]: true = Изменяется состояние именно этой секции, false = изменяется состояние родителя.

`changeStart`, `changeDone` -- начало, окончание изменение свойств секции (размеров?) соотв.

Типовые решаемые задачи
-----------------------

Установить контент (актуальность? используемость?):
```javascript
    box0.setContent('box0 displayed');
```

Спрятать секцию:
```javascript
    // Способ 1
    box1.hideBox();
    // Способ 2
    box1.toggleBox(false);
    // Способ 3
    box.toggleChilds([
        { ctx : 'box1', show : false },
    ]);
    // Способ 4
    box.toggleChilds([
        { ctx : box1, show : false },
    ]);
```

Показать секцию:
```javascript
    // Способ 1
    box1.showBox();
    // Способ 2
    box1.toggleBox(true);
    // Способ 3
    box.toggleChilds([
        { ctx : 'box1', show : true },
    ]);
    // Способ 4 (объект секции вместо идентификатора)
    box.toggleChilds([
        { ctx : box1, show : true },
    ]);
```

Изменить размер секции:
```javascript
    // Способ 1
    box1.setBoxSize(150);
    // Способ 2
    box.setChildSizes([
        { ctx : 'box1', size : 150 },
    ]);
    // Способ 3 (объект секции вместо идентификатора)
    box.setChildSizes([
        { ctx : box1, size : 150 },
    ]);
```

Изменить тип секции (меняем на изменяемый с процентным значением):
```javascript
    box1.setMod('size', 'percents');
    box1.params.percents = 30;
    box.updateAllChildSizes();
```


