
$Id: 170111-required-components.md 6991 2017-01-12 16:46:38Z miheev $
$Revision: 6991 $
$Author: miheev $
$Date: 2017-01-12 19:46:38 +0300 (Чт, 12 янв 2017) $


Список задач по доработке интерфейса
====================================

Таблица/список КО
-----------------

Добавить в `tableview` возможность "раскрытия" строк: по клике на строке (ещё один перегруз клика?) раскрывается секция с детальной информацией (шаблон? откуда берём описание содержимого?)

Реализация через опциональный модификатор.

(?) добавить возможность использования в "демо"-режиме динамики из `resizable` -- фиксированная шапка, изменение ширины колонок (сейчас это работает, только если таблица создаётся по описанию на лету). Оценить необходимость и сложность.

Попробовать доработать оформление таблицы. Сейчас слишком "вырвиглазно" получается (красный, синий, -- слишком много внимания и слишком большая нагрузка на глаз).

Управление панелями/секциями
----------------------------

Унифицировать существующие компоненты группировки и управления элементами интерфейса:

- `panelbox`
- `split_view`

(плюс разработать новые; см. ниже).

Секции с разнотипными компонентами
----------------------------------

Создать единый способ размещения контейнеров, по разному ведущих себя на странице.

Варианты: (а) единый параметризуемый компонент, (б) по контейнеру на каждый тип контента.

Для вставки таблиц (контроллер `tableview`) нужен внешний контейнер в виде стандартной секции в `panelbox` и т.д. (см. реализацию в `otchet_view`).

Аналогично для секций с формами редактирования (пока компонента нет).

Прокрутка в секциях-контейнерах
-------------------------------

Обратить внимание на реализацию прокрутки. У таблиц прокрутка реализуется внутри их самих -- необходимо для хаков в `tableview:resizable`, у прочих секций скорее всего будет извне. Необходимо, чтобы выглядело одинаково.

Анимация изменения размеров секций
----------------------------------

Доработать механизм обновления после изменения размеров секций (`panelbox`): накопление событий, опрос вложенных элементов, единовременный запуск всех анимаций. (Начато, закончить.)

Деление секций по горизонтали
-----------------------------

+Добавить (?) возможность горизонтального деления на более чем две области. Пока не нужно; нужно ли вообще? Для вертикального деления нужно однозначно.

Сворачивание секций (?)
-----------------------

Функция сворачивания секций (?). Не очевидна необходимость и не ясен способ реализации (в смысле эргономики). Упоминалось в спецификации от писателей.

Панели с закладками
-------------------

Уточнить: Закладки реализуются в виде выпадающего списка? 

Разные изменения
----------------

- Добавить индикацию текущего пункта/раздела в главном меню.

- Добавить ещё один тип иконок-элементов управления: более компактных, чем существующие стандартные красные, -- для вторичных управляторов. +Отдельный вид групп иконок для управления картой.


Компоненты для разработки
=========================

Деление на секции по вертикали
------------------------------

Добавить возможность ресайзинга при вертикальном делении рабочей области (подобласти) на секции.

Варианты:

- (а) Отдельный компонент вместо простого объединения секций (`box_actions` и пр.) в `panelbox`,

- (б) Добавление в существующий `panelbox` возможности (модификатором?) изменения высоты секции (помеченной, как **изменяемая**).

См. `split_view` и `panelbox`.

Компонент редактирования форм
-----------------------------

Сделать компонент для редактируемых форм (на основе `object_details`?).

Возможные требования к компоненту:

- Работа на основе описаний данных (см. `object_details`).

- Использование шаблонов для преобразования данных для показа пользователю (в том числе: возможно, вместо выделения отдельного поля в описании для подстановки из словаря).

- Верификация данных (по типам текстовых полей: телефон, e-mail, число и т.д.) + индикация ошибочно заполненных полей.

- Переключение режимов (просмотр, редактирование) (см. `object_details`).

- Объединение полей ввода в именованные/неименованные группы (см. `object_details`).

- Поддержка списочных структур (см. `object_details` как образец неудачной реализации).

- Индикация обязательных полей (метка солева от названия поля; не цветом, как в `fake-pages`).

- Поддержка связанных элементов (показ/+скрытие элемента или группы в соотв. с состоянием **ведущего** элемента). См., напр., группы полей для описания параметров типа **Определение отсутствия связи** (способ и опциональный числовой параметр).

- Неактивные поля (недоступные для редактирования: по флагу в описании/свойствах). Скрытые поля (?).

- (???) Группировка полей для расположения в одну строку?

Поля данных
-----------

Отсутствющие типы полей данных для редактирования/показа/фильтров:

- Выбор иконок из наборов: (а) из шрифта с пиктограммами (font-awsome, themify-icons, ...), (б) из графических спрайтов. (Увязываем с элементом **иконка**?). Визуально: селект со списком/таблицей иконок, доступных для выбора.

- Выбор цвета. Селект со списком/таблицей. Список доступных цветов в конфигурации проекта или с сервера в запросе `AppParams/config`.

- Даты. Уже есть; отрабоать различия при показе в фильтрах, в формах редактирования, при показе нередактируемого значения. (+Исправить баг с локализацией -- см. project.config, project.helpers etc.)

- Пароль. (С подтверждением?)

- (Только для показа?) Продолжительность времени. (Сейчас реализовано для отчётов на основе функции преобразования на основе типа данных/шаблона.)

- Иметь в виду сложные элементы вроде выбора/редактирования АНК в `object_details`.

- Продумать способ работы с полями типа **Состояние** ("Исправен/неисправен" и т.д.) -- в фильтрах, при показе, при редактировании.

Карта
-----

??????????????????

Секции с кнопками (иконки) управления.

Прочие компоненты
-----------------

- Графики/диаграммы

- Мультимедиа (видео?)


